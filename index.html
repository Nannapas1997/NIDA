<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIDA REGISTRATION</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="cropperjs/cropper.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>

    <img src="/images/image_3.svg" alt="banner-img" style="width: 100%;">

    <div class="container box">
        <div class="container wrapper_2">
            <p class="sign-up-text">สมัครสมาชิก</p>
            <div class="d-flex flex-row justify-content-center mb-5">
                <div class="d-flex flex-row justify-content-center">
                    <div class="d-flex flex-column align-items-center" id="step-1">
                        <p class="step-text">ขั้นตอนที่ 1</p>
                        <div class="step d-flex justify-content-center align-items-center">
                            <p class="number">1</p>
                        </div>
                        <p class="step-text">รายละเอียด</p>
                        <p class="step-text">ข้อมูลส่วนตัว</p>
                    </div>
                </div>
                <div class="d-flex align-items-center justify-content-center">
                    <img src="/images/Next.png" alt="next-img" class="next-icon" />
                </div>
                <div class="d-flex flex-column align-items-center" id="step-2">
                    <p class="step-gray">ขั้นตอนที่ 2</p>
                    <div class="d-flex justify-content-center align-items-center step-gray-2">
                        <p class=" number-gray">2</p>
                    </div>
                    <p class="step-gray">รายละเอียด</p>
                    <p class="step-gray">ที่อยู่อาศัย</p>
                </div>
                <div class="d-flex align-items-center justify-content-center">
                    <img src="/images/Next.png" alt="next-img" class="next-icon" />
                </div>
                <div class="d-flex flex-column align-items-center" id="step-3">
                    <p class="step-gray">ขั้นตอนที่ 3</p>
                    <div class="d-flex justify-content-center align-items-center step-gray-2"">
                        <p class=" number-gray">3</p>
                    </div>
                    <p class="step-gray">ตั้งค่าโปรไฟล์</p>
                </div>
            </div>
            <form action="" id="multiPageForm" method="post" enctype="multipart/form-data" class="form-data mt-5 mb-5">
                <!-- page 1 -->
                <div id="page1">

                    <div class="detail">
                        <p>รายละเอียดข้อมูลส่วนตัว</p>
                    </div>
                    <div class="mt-5 container">
                        <label for="select_prefix" class="text-label mb-2">คำนำหน้าชื่อ<sup
                                style="color:red">*</sup></label>
                        <select class="form-select" id="select_prefix" required>
                            <option value="นาย" selected>นาย</option>
                            <option value="นาง">นาง</option>
                            <option value="นางสาว">นางสาว</option>
                        </select>
                        <label for="first_name" class="text-label mb-2 mt-3">ชื่อ<sup style="color:red">*</sup></label>
                        <input id="first_name" class="form-control" type="text" required>
                        <label for="last_name" class="text-label mb-2 mt-3">นามสกุล<sup
                                style="color:red">*</sup></label>
                        <input id="last_name" class="form-control" type="text" required>
                        <label for="prefix" class="text-label mb-2 mt-3">Prefix</label>
                        <select class="form-select" id="prefix" required>
                            <option value="Mr." selected>Mr.</option>
                            <option value="Mrs.">Mrs.</option>
                            <option value="Ms.">Ms.</option>
                        </select>
                        <label for="First_name" class="text-label mb-2 mt-3">First Name<sup
                                style="color:red">*</sup></label>
                        <input id="First_name" class="form-control" type="text" required>
                        <label for="Last_name" class="text-label mb-2 mt-3">Last Name<sup
                                style="color:red">*</sup></label>
                        <input id="Last_name" class="form-control" type="text" required>
                        <div class="row">
                            <div class="col-md-6 col-sm-12">
                                <label for="nickname" class="text-label mb-2 mt-3">ชื่อเล่น<sup
                                        style="color:red">*</sup></label>
                                <input id="nickname" class="form-control" type="text" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label for="Nickname" class="text-label mb-2 mt-3">Nick Name<sup
                                        style="color:red">*</sup></label>
                                <input id="Nickname" class="form-control" type="text" required>
                            </div>
                        </div>
                        <label for="birth_date" class="text-label mb-2 mt-3">วัน เดือน ปีเกิด<sup
                                style="color:red">*</sup></label>
                        <input id="birth_date" class="form-control" type="date" required>
                        <div class="row">
                            <div class="col-md-6 col-sm-12">
                                <label for="year_old" class="text-label mb-2 mt-3">อายุ<sup
                                        style="color:red">*</sup></label>
                                <input id="year_old" class="form-control" type="text" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label for="gender" class="text-label mb-2 mt-3">เพศ<sup
                                        style="color:red">*</sup></label>
                                <select class="form-select" id="gender" required>
                                    <option value="ชาย" selected>ชาย</option>
                                    <option value="หญิง">หญิง</option>
                                    <option value="อื่น ๆ">อื่น ๆ</option>
                                </select>
                            </div>
                        </div>
                        <label for="status" class="text-label mb-2 mt-3">สถานะภาพ<sup style="color:red">*</sup></label>
                        <select class="form-select" id="status" required>
                            <option value="โสด" selected>โสด</option>
                            <option value="แต่งงาน">แต่งงาน</option>
                            <option value="หย่า">หย่า</option>
                            <option value="หย่า">แยกกันอยู่</option>
                        </select>
                        <label for="Email" class="text-label mb-2 mt-3">อีเมล<sup style="color:red">*</sup></label>
                        <input id="Email" class="form-control" type="email" placeholder="Example@gmail.com" required>
                        <label for="phone-number" class="text-label mb-2 mt-3">เบอร์มือถือ<sup
                                style="color:red">*</sup></label>
                        <input id="phone-number" class="form-control" type="text" required>
                        <label for="id-line" class="text-label mb-2 mt-3">ID Line<sup style="color:red">*</sup></label>
                        <input id="id-line" class="form-control" type="text" required>
                        <label for="sos-person" class="text-label mb-2 mt-3">บุคคลที่ติดต่อได้กรณีฉุกเฉิน<sup
                                style="color:red">*</sup></label>
                        <input id="sos-person" class="form-control" type="text" required>
                        <div class="row">
                            <div class="col-md-6 col-sm-12">
                                <label for="relation" class="text-label mb-2 mt-3">ความสัมพันธ์<sup
                                        style="color:red">*</sup></label>
                                <input id="relation" class="form-control" type="text" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label for="phone-relation" class="text-label mb-2 mt-3">เบอร์โทรติดต่อ<sup
                                        style="color:red">*</sup></label>
                                <input id="phone-relation" class="form-control" type="text" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-sm-12"></div>
                            <div class="col-md-6">
                                <div class="d-flex justify-content-end">
                                    <button type="button" class="next-button" id="next_button">ไปต่อ</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <script>
                    $(document).ready(function () {

                        // Event listener for the "ถัดไป" button on Page 1
                        $('#next_button').on('click', function () {
                            // Perform form validation before proceeding
                            if (!validatePage1()) {
                                // Initial setup - Show page 1 and hide page 2 and 3
                                $('#page1').show();
                                $('#page2').hide();
                                $('#page3').hide();
                                alert("กรุณากรอกข้อมูลในทุกช่องที่จำเป็น");
                                $('#step-1 .step-text').css('color', '#0D5263');
                                $('#step-1 .step').css('border', '2px solid #0D5263');
                                $('#step-1 .number').css('color', '#0D5263');


                                $('#step-2').prev().css('color', '#b6b6b6');
                                $('#step-2').find('.number-gray').css('color', '#b6b6b6');
                                $('#step-2').find('.step-gray').css('color', '#b6b6b6');
                                $('#step-2').find('.step-gray-2').css('border', ' 2px solid #b6b6b6');
                                return; // Stop further execution if validation fails
                            } else {
                                // If validation is successful, proceed to Page 2
                                $('#page1').hide();
                                $('#page2').show();
                                $('#page3').hide();
                                $('#step-1 .step-text').css('color', '#b6b6b6');
                                $('#step-1 .step').css('border', '2px solid #b6b6b6');
                                $('#step-1 .number').css('color', '#b6b6b6');

                                // Change step 2 text color to blue
                                $('#step-2').prev().css('color', '#0D5263');
                                $('#step-2').find('.number-gray').css('color', '#0D5263');
                                $('#step-2').find('.step-gray').css('color', '#0D5263');
                                $('#step-2').find('.step-gray-2').css('border', ' 2px solid #0D5263');
                            }
                            
                        });
                        $('#next_button_2').on('click', function() {
                            if(!validatePage2()) {
                                $('#page1').hide();
                                $('#page2').show();
                                $('#page3').hide();
                                alert("กรุณากรอกข้อมูลในทุกช่องที่จำเป็น");
                                return;
                            }else {
                                $('#page1').hide();
                                $('#page2').hide();
                                $('#page3').show();
                                $('#step-2 .step-gray').css('color', '#b6b6b6');
                                $('#step-2 .step-gray-2').css('border', '2px solid #b6b6b6');
                                $('#step-2 .number-gray').css('color', '#b6b6b6');

                                // Change step 3 text color to blue
                                $('#step-3').prev().css('color', '#0D5263');
                                $('#step-3').find('.number-gray').css('color', '#0D5263');
                                $('#step-3').find('.step-gray').css('color', '#0D5263');
                                $('#step-3').find('.step-gray-2').css('border', ' 2px solid #0D5263');
                            }
                            
                        });
                        $('#confirm_button').on('click', function(){
                            if(!validatePage3()) {
                                $('#page1').hide();
                                $('#page2').hide();
                                $('#page3').show();
                                alert("กรุณากรอกข้อมูลในทุกช่องที่จำเป็น")ว
                            }else {
                                $('#multiPageForm').submit();
                            }
                        })
                        // Validation function for Page 1
                        function validatePage1() {
                            let isValid = true;

                            // Select all required input and select fields in Page 1
                            $('#page1 input[required], #page1 select[required]').each(function () {
                                if (!$(this).val().trim()) {
                                    isValid = false;
                                    // Optionally add a red border to highlight the empty field
                                    $(this).css('border', '2px solid red');
                                } else {
                                    // Remove the red border if the field is valid
                                    $(this).css('border', '');
                                }
                            });

                            return isValid;
                        }
                        function validatePage2() {
                            let isValid2 = true;

                            // Select all required input and select fields in Page 1
                            $('#page2 input[required], #page2 select[required]').each(function () {
                                if (!$(this).val().trim()) {
                                    isValid2 = false;
                                    // Optionally add a red border to highlight the empty field
                                    $(this).css('border', '2px solid red');
                                } else {
                                    // Remove the red border if the field is valid
                                    $(this).css('border', '');
                                }
                            });

                            return isValid2;
                        }
                    });
                </script>



                <!-- page 2 -->
                <div id="page2">
                    <div class="detail">
                        <p>รายละเอียดที่อยู่อาศัย</p>
                    </div>
                    <div class="mt-5 container">
                        <label for="address_now" class="text-label mb-2 mt-3">ที่อยู่ปัจจุบัน<sup
                                style="color:red">*</sup></label>
                        <input id="address_now" class="form-control" type="text" required>
                        <label for="khet" class="text-label mb-2 mt-3">เขต/อำเภอ<sup style="color:red">*</sup></label>
                        <input id="khet" class="form-control" type="text" required>
                        <label for="tambol" class="text-label mb-2 mt-3">แขวง/ตำบล<sup style="color:red">*</sup></label>
                        <input id="tambol" class="form-control" type="text" required>
                        <label for="province" class="text-label mb-2 mt-3">จังหวัด<sup style="color:red">*</sup></label>
                        <input id="province" class="form-control" type="text" required>
                        <label for="postal_code" class="text-label mb-2 mt-3">รหัสไปรษณีย์<sup
                                style="color:red">*</sup></label>
                        <input id="postal_code" class="form-control" type="text" required>
                        <label for="country" class="text-label mb-2 mt-3">ประเทศ<sup style="color:red">*</sup></label>
                        <select class="form-select" id="country" required>
                            <option value="Thailand">Thailand</option>
                        </select>
                        <script>
                            const countries = [
                                "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua and Barbuda", "Argentina", "Armenia",
                                "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium",
                                "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Brazil", "Brunei", "Bulgaria",
                                "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada", "Central African Republic", "Chad",
                                "Chile", "China", "Colombia", "Comoros", "Congo, Democratic Republic of the", "Congo, Republic of the",
                                "Costa Rica", "Croatia", "Cuba", "Cyprus", "Czech Republic", "Denmark", "Djibouti", "Dominica", "Dominican Republic",
                                "East Timor", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea", "Estonia", "Eswatini", "Ethiopia",
                                "Fiji", "Finland", "France", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Greece", "Grenada", "Guatemala",
                                "Guinea", "Guinea-Bissau", "Guyana", "Haiti", "Honduras", "Hungary", "Iceland", "India", "Indonesia", "Iran",
                                "Iraq", "Ireland", "Israel", "Italy", "Ivory Coast", "Jamaica", "Japan", "Jordan", "Kazakhstan", "Kenya", "Kiribati",
                                "Korea, North", "Korea, South", "Kosovo", "Kuwait", "Kyrgyzstan", "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia",
                                "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta",
                                "Marshall Islands", "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro",
                                "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand", "Nicaragua", "Niger",
                                "Nigeria", "North Macedonia", "Norway", "Oman", "Pakistan", "Palau", "Panama", "Papua New Guinea", "Paraguay", "Peru",
                                "Philippines", "Poland", "Portugal", "Qatar", "Romania", "Russia", "Rwanda", "Saint Kitts and Nevis", "Saint Lucia",
                                "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal", "Serbia",
                                "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa",
                                "South Sudan", "Spain", "Sri Lanka", "Sudan", "Suriname", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan",
                                "Tanzania", "Thailand", "Togo", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Tuvalu",
                                "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States", "Uruguay", "Uzbekistan", "Vanuatu",
                                "Vatican City", "Venezuela", "Vietnam", "Yemen", "Zambia", "Zimbabwe"
                            ];

                            const countrySelect = document.getElementById('country');
                            countries.forEach(function (country) {
                                const option = document.createElement('option');
                                option.value = country;
                                option.textContent = country;
                                if (country === "Thailand") {
                                    option.selected = true; // Set "Thailand" as the selected option
                                }
                                countrySelect.appendChild(option);
                            });
                        </script>
                        <div class="mt-5">
                            <span class="radio-inline">ที่อยู่ตามบัตรประชาชน<sup style="color:red">*</sup></span>
                            <label class="radio-inline" id="current-address">
                                <input type="radio" name="optradio" checked class="ms-5 me-2">ที่อยู่เดียวกับปัจจุบัน
                            </label>
                            <label class="radio-inline" id="other-address">
                                <input type="radio" name="optradio" class="ms-5 me-2">ที่อยู่อื่น
                            </label>
                        </div>
                        <div id="other-adrress-2">
                            <label for="address" class="text-label mb-2 mt-3">ที่อยู่<sup
                                    style="color:red">*</sup></label>
                            <input id="address" class="form-control" type="text" required>
                            <label for="khet_2" class="text-label mb-2 mt-3">เขต/อำเภอ<sup
                                    style="color:red">*</sup></label>
                            <input id="khet_2" class="form-control" type="text" required>
                            <label for="tambol_2" class="text-label mb-2 mt-3">แขวง/ตำบล<sup
                                    style="color:red">*</sup></label>
                            <input id="tambol_2" class="form-control" type="text" required>
                            <label for="province_2" class="text-label mb-2 mt-3">จังหวัด<sup
                                    style="color:red">*</sup></label>
                            <input id="province_2" class="form-control" type="text" required>
                            <label for="postal_code_2" class="text-label mb-2 mt-3">รหัสไปรษณีย์<sup
                                    style="color:red">*</sup></label>
                            <input id="postal_code_2" class="form-control" type="text" required>
                            <label for="country_2" class="text-label mb-2 mt-3">ประเทศ<sup
                                    style="color:red">*</sup></label>
                            <select class="form-select" id="country_2" required>
                                <option value="Thailand" selected>Thailand</option>
                            </select>
                            <script>
                                const countries_2 = [
                                    "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua and Barbuda", "Argentina", "Armenia",
                                    "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium",
                                    "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Brazil", "Brunei", "Bulgaria",
                                    "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada", "Central African Republic", "Chad",
                                    "Chile", "China", "Colombia", "Comoros", "Congo, Democratic Republic of the", "Congo, Republic of the",
                                    "Costa Rica", "Croatia", "Cuba", "Cyprus", "Czech Republic", "Denmark", "Djibouti", "Dominica", "Dominican Republic",
                                    "East Timor", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea", "Estonia", "Eswatini", "Ethiopia",
                                    "Fiji", "Finland", "France", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Greece", "Grenada", "Guatemala",
                                    "Guinea", "Guinea-Bissau", "Guyana", "Haiti", "Honduras", "Hungary", "Iceland", "India", "Indonesia", "Iran",
                                    "Iraq", "Ireland", "Israel", "Italy", "Ivory Coast", "Jamaica", "Japan", "Jordan", "Kazakhstan", "Kenya", "Kiribati",
                                    "Korea, North", "Korea, South", "Kosovo", "Kuwait", "Kyrgyzstan", "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia",
                                    "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta",
                                    "Marshall Islands", "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro",
                                    "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand", "Nicaragua", "Niger",
                                    "Nigeria", "North Macedonia", "Norway", "Oman", "Pakistan", "Palau", "Panama", "Papua New Guinea", "Paraguay", "Peru",
                                    "Philippines", "Poland", "Portugal", "Qatar", "Romania", "Russia", "Rwanda", "Saint Kitts and Nevis", "Saint Lucia",
                                    "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal", "Serbia",
                                    "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa",
                                    "South Sudan", "Spain", "Sri Lanka", "Sudan", "Suriname", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan",
                                    "Tanzania", "Thailand", "Togo", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Tuvalu",
                                    "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States", "Uruguay", "Uzbekistan", "Vanuatu",
                                    "Vatican City", "Venezuela", "Vietnam", "Yemen", "Zambia", "Zimbabwe"
                                ];

                                const countrySelect_2 = document.getElementById('country_2');
                                countries.forEach(function (country_2) {
                                    const option = document.createElement('option');
                                    option.value = country_2;
                                    option.textContent = country_2;
                                    if (country_2 === "Thailand") {
                                        option.selected = true; // Set "Thailand" as the selected option
                                    }
                                    countrySelect_2.appendChild(option);
                                });
                            </script>
                            <script>
                                document.addEventListener('DOMContentLoaded', function () {
                                    // Get the radio buttons and the address div
                                    const currentAddressRadio = document.querySelector('#current-address input[type="radio"]');
                                    const otherAddressRadio = document.querySelector('#other-address input[type="radio"]');
                                    const otherAddressDiv = document.getElementById('other-adrress-2');

                                    // Initially hide the "other address" div
                                    otherAddressDiv.style.display = 'none';

                                    // Add event listeners to the radio buttons
                                    currentAddressRadio.addEventListener('change', function () {
                                        if (currentAddressRadio.checked) {
                                            otherAddressDiv.style.display = 'none';
                                        }
                                    });

                                    otherAddressRadio.addEventListener('change', function () {
                                        if (otherAddressRadio.checked) {
                                            otherAddressDiv.style.display = 'block';
                                        }
                                    });
                                });
                            </script>
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-sm-12"></div>
                            <div class="col-md-6">
                                <div class="d-flex justify-content-end">
                                    <button type="button" class="prev-button" id="prev_button">ย้อนกลับ</button>
                                    <button type="button" class="next-button" id="next_button_2">ไปต่อ</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- page 3 -->
                <div id="page3">
                    <div class="detail">
                        <p>อัพโหลดรูปภาพโปรไฟล์</p>
                    </div>
                    <div id="crop-container" class="mt-5 mb-5 container">
                        <div class="d-flex flex-column align-items-center justify-content-center">
                            <p class="profile-img-text">กรุณาเพิ่มรูปภาพโปรไฟล์ที่ต้องการ<sup style="color:red">*</sup>
                            </p>
                            <div class="border-profile-img mt-3 mb-3 d-flex justify-content-center align-items-center">
                                <!-- This will display the image to be cropped -->
                                <img src="/images/image_preview.png" id="imageToCrop" alt="image_preview"
                                    style="max-width: 100%; max-height: 280px; border-radius: 8px;">
                            </div>
                            <p class="profile-img-max-size">Max file size should be 2MB**(gif, jpg, jpeg, png)</p>
                            <div class="mt-3 mb-3">
                                <label class="custom-file-upload d-flex justify-content-center align-items-center">
                                    <input type="file" class="form-control" id="uploadImage" name="file"
                                        onchange="loadImage();" accept="image/gif, image/jpg, image/jpeg, image/png"
                                        required>
                                    <span id="buttonLabel">นำเข้า</span>
                                </label>
                            </div>
                            <button id="cropButton" class="btn btn-primary mt-3 mb-3" type="button"
                                style="display:none;">ตัดรูป</button>
                        </div>
                        <div class="detail">
                            <p>ตั้งค่าบัญชีผู้ใช้งาน</p>
                        </div>
                        <label for="username" class="text-label mb-2 mt-5">ชื่อผู้ใช้<sup
                                style="color:red">*</sup></label>
                        <input id="username" class="form-control" type="text" required>
                        <label for="password" class="text-label mb-2 mt-3">รหัสผ่าน<sup
                                style="color:red">*</sup></label>
                        <input id="password" class="form-control" type="text" required>
                        <label for="confirm_password" class="text-label mb-2 mt-3">ยืนยันรหัสผ่าน<sup
                                style="color:red">*</sup></label>
                        <input id="confirm_password" class="form-control" type="text" required>
                        <div class="row">
                            <div class="col-md-6 col-sm-12"></div>
                            <div class="col-md-6">
                                <div class="d-flex justify-content-end">
                                    <button type="button" class="prev-button" id="prev_button_2">ย้อนกลับ</button>
                                    <button type="button" class="next-button" id="confirm_button">ยืนยัน</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <script type="text/javascript">
                        let cropper; // Variable to hold the Cropper instance

                        function loadImage() {
                            // Get the file input element and the selected file
                            const fileInput = document.getElementById('uploadImage');
                            const file = fileInput.files[0];

                            if (file) {
                                // Create a FileReader to read the image
                                const reader = new FileReader();

                                reader.onload = function (e) {
                                    // Set the src of the image element to the uploaded image
                                    const imageToCrop = document.getElementById('imageToCrop');
                                    imageToCrop.src = e.target.result;

                                    // Initialize Cropper after image is loaded
                                    if (cropper) {
                                        cropper.destroy(); // Destroy the previous cropper instance if it exists
                                    }

                                    cropper = new Cropper(imageToCrop, {
                                        aspectRatio: 1, // Aspect ratio of 1 (can change to any other aspect ratio)
                                        viewMode: 1,
                                        autoCropArea: 1,
                                        movable: true, // Allows moving the image around
                                        zoomable: true, // Allows zooming
                                        rotatable: true, // Allows rotating
                                        scalable: true // Allows scaling
                                    });

                                    // Change button label from "นำเข้า" to "ตัดรูป"
                                    document.getElementById('cropButton').style.display = 'block'; // Show the "Crop" button
                                };

                                reader.readAsDataURL(file); // Read the file as DataURL
                            }
                        }

                        // Crop Image when "ตัดรูป" button is clicked
                        document.getElementById('cropButton').addEventListener('click', function (event) {
                            event.preventDefault(); // Prevent any default form action or page refresh
                            if (cropper) {
                                const canvas = cropper.getCroppedCanvas({
                                    width: 280, // Final output width (change as needed)
                                    height: 280 // Final output height (change as needed)
                                });

                                // Convert the canvas to an image and replace the preview
                                const imageToCrop = document.getElementById('imageToCrop');
                                imageToCrop.src = canvas.toDataURL('image/png');

                                // Destroy the cropper instance to avoid re-cropping
                                cropper.destroy();
                                cropper = null;

                                // Hide the crop button after cropping
                                document.getElementById('cropButton').style.display = 'none';

                                // Change button label back if needed (optional)
                                document.getElementById('buttonLabel').textContent = 'นำเข้า';
                            }
                        });
                    </script>

                </div>
            </form>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            $('#prev_button').click(function () {
                // Change step 1 text color to gray
                $('#step-1 .step-text').css('color', '#0D5263');
                $('#step-1 .step').css('border', '2px solid #0D5263');
                $('#step-1 .number').css('color', '#0D5263');

                // Change step 2 text color to blue
                $('#step-2').prev().css('color', '#b6b6b6');
                $('#step-2').find('.number-gray').css('color', '#b6b6b6');
                $('#step-2').find('.step-gray').css('color', '#b6b6b6');
                $('#step-2').find('.step-gray-2').css('border', '2px solid #b6b6b6');
            });
            $('#next_button_2').click(function () {
                // Change step 2 text color to gray
                // $('#step-2 .step-gray').css('color', '#b6b6b6');
                // $('#step-2 .step-gray-2').css('border', '2px solid #b6b6b6');
                // $('#step-2 .number-gray').css('color', '#b6b6b6');

                // // Change step 3 text color to blue
                // $('#step-3').prev().css('color', '#0D5263');
                // $('#step-3').find('.number-gray').css('color', '#0D5263');
                // $('#step-3').find('.step-gray').css('color', '#0D5263');
                // $('#step-3').find('.step-gray-2').css('border', ' 2px solid #0D5263');
            });
            $('#prev_button_2').click(function () {
                $('#step-3 .step-gray').css('color', '#b6b6b6');
                $('#step-3 .step-gray-2').css('border', '2px solid #b6b6b6');
                $('#step-3 .number-gray').css('color', '#b6b6b6');

                // Change step 3 text color to blue
                $('#step-2').prev().css('color', '#0D5263');
                $('#step-2').find('.number-gray').css('color', '#0D5263');
                $('#step-2').find('.step-gray').css('color', '#0D5263');
                $('#step-2').find('.step-gray-2').css('border', ' 2px solid #0D5263');
            });
        });

    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Initial setup - Show page 1 and hide page 2 and 3
            document.getElementById('page1').style.display = 'block';
            document.getElementById('page2').style.display = 'none';
            document.getElementById('page3').style.display = 'none';

            // Event listener for the "ถัดไป" button on Page 1
            document.querySelector(".next-button").addEventListener("click", function () {
                document.getElementById('page1').style.display = 'none';
                document.getElementById('page2').style.display = 'block';
                document.getElementById('page3').style.display = 'none';
            });

            // Event listener for the "ถัดไป" button on Page 2
            document.getElementById('next_button_2').addEventListener("click", function () {
                document.getElementById('page1').style.display = 'none';
                document.getElementById('page2').style.display = 'none';
                document.getElementById('page3').style.display = 'block';
            });

            // Event listener for the "ย้อนกลับ" button on Page 2
            document.getElementById('prev_button').addEventListener("click", function () {
                document.getElementById('page2').style.display = 'none';
                document.getElementById('page1').style.display = 'block';
                document.getElementById('page3').style.display = 'none';
            });

            // Event listener for the "ย้อนกลับ" button on Page 3
            document.getElementById('prev_button_2').addEventListener("click", function () {
                document.getElementById('page3').style.display = 'none';
                document.getElementById('page2').style.display = 'block';
                document.getElementById('page1').style.display = 'none';
            });

            // Event listener for the "ยืนยัน" button on Page 3 (Confirm Form)
            document.getElementById('confirm_button').addEventListener("click", function () {
                // Simulate form submission (change as needed)
                alert("Form is being submitted.");
                document.getElementById('multiPageForm').submit(); // Assuming there is a form with this ID
            });
        });
    </script>
    <script>
        function validatePhoneNumber(event) {
            const input = event.target;
            const errorMessage = document.getElementById('error-message');

            // Remove non-digit characters
            input.value = input.value.replace(/[^0-9]/g, '');

            // Show or hide error message based on length
            if (input.value.length !== 10) {
                errorMessage.style.display = 'block';
            } else {
                errorMessage.style.display = 'none';
            }
        }
        // Attach event listeners
        document.getElementById('phone-number').addEventListener('input', validatePhoneNumber);
        document.getElementById('phone-relation').addEventListener('input', validatePhoneNumber);
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>